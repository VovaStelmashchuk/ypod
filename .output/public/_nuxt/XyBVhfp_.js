import{u as s}from"./D4WPCdkm.js";import{I as e,m as t,J as r,u as o}from"./BWI5sAI2.js";const a=r({userIsSet:!1,user:{}});const u=e({getters:{user:t((()=>a.user)),userIsSet:t((()=>a.userIsSet))},actions:{setUser:async function(){try{const{data:e}=await s("/api/user","$r1ecUCCiqB"),t=o(e);t&&Boolean(t.id)?(a.user=t,a.userIsSet=!0):(a.user={},a.userIsSet=!1)}catch(e){console.error("Failed to set user:",e),a.user={},a.userIsSet=!1}},logout:async function(){try{await $fetch("/api/auth/logout",{method:"POST",credentials:"include"}),a.user={},a.userIsSet=!1}catch(s){console.error("Logout failed:",s)}}}});export{u as a};
