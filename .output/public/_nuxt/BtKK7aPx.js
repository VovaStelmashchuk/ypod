import{_ as t}from"./DfH7CL4k.js";import{q as e,a as s,o as a,d as n,e as o,s as c,v as r,x as l,n as i,c as u}from"./BWI5sAI2.js";import{u as m}from"./D4WPCdkm.js";const p={class:"text-center flex items-center justify-center flex-col"};const d=e({},[["render",function(e,c){const r=t;return a(),s("div",p,[c[0]||(c[0]=n("h2",{class:"text-3xl font-semibold text-gray-900"},"Authenticating...",-1)),o(r,{class:"mt-5 mb-10 w-30 h-30"}),c[1]||(c[1]=n("p",{class:"text-base text-gray-900"},"Please wait a moment while we process your authentication.",-1))])}]]),f=c(null),h={__name:"callback",setup:t=>(r((async()=>{const t={googleAccessToken:l().hash.substring(1).split("&").reduce(((t,e)=>{const[s,a]=e.split("=");return t[s]=a,t}),{}).access_token};await $fetch("/api/auth/google/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),await async function(){const{data:t,error:e}=await m("/api/user",{credentials:"include"},"$mrlxbez0sA");return e.value?null:(f.value=null==t?void 0:t.value,f.value)}(),i("/")})),(t,e)=>{const s=d;return a(),u(s)})};export{h as default};
